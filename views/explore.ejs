
<% include partials/sourceHeader %>

<h1 style = "text-align: center;">Search for a project</h1>

<form action="/search" method="POST" style = "text-align: center; padding-bottom: 3%;">
  <input type="text" placeholder="Project" name="projectSearch"/>
  <button>Search</button>
</form>

<h3>Filter by SDG Goal:</h3>
<form method="POST" action="/explore" id="categoryForm">
  <div class="form-group">
    <select class="form-control" id="categorySelect" name="sdgCategory">
      <% sdgCategories.forEach((category) => { %>
        <option><%= category %></option>
      <% }); %>
    </select>
  </div>
</form>

<main class="main-area">

      <div class="grid-container">
        <% var i = 0; 
          projects.forEach((project) => { %>
          <div class="grid-item" style = "grid-column: <%=i%3+1%>;">
            <div class="card">
              <div class = "parent">
                  <img class="imgexplore" src = "<%= project.coverPath %>"/>
                  <img class="SDG" src = "sdg_health.PNG"/>
              </div>
              <div class="card-body">
                <h4 class="card-title">
                  <a href="projects/<%= project._id %>"><%= project.name %></a>
                </h4>

                <p class="card-text"><%= project.description.substring(0,200) %>...</p>

                <div class = " row money-goal">
                    <h2 style = "text-align: center;">$<%= projects[i].earnings %> out of $<%= projects[i].goal %></h2>
                    <div class="progress indexProgressBar">
                            <div class="progress-bar" role="progressbar" style="width: <%= projects[i].earnings/projects[i].goal * 100 %>%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                <p class="card-text"><%= projects[i].description.substring(0,200) %>...</p>

              </div>
            </div>
          </div>
          <% 
          i++; }); %>

        </div>


</main>



<% include partials/sourceFooter %>
